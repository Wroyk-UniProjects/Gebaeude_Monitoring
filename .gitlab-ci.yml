default:
  image: ubuntu:latest

stages:
  - create-zip
  - create-release

create-zip:
  stage: create-zip
  except:
    - tags
  script:
    - echo "creating development zip"
  artifacts:
    name: $CI_COMMIT_BRANCH
    paths:
      - Sensor.py
      - run.sh
      - requirements.txt
      - dependencies.sh
    expire_in: 1 week

create-release:
  stage: create-release
  only:
    - tags
  script:
    - echo "creating release zip"
  artifacts:
    name: $CI_COMMIT_TAG
    paths:
      - Sensor.py
      - run.sh
      - requirements.txt
      - dependencies.sh
    expire_in: 3 mos